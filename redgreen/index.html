<!DOCTYPE  html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Red/Green</title>
	<link rel="icon" href="./index.png" type="image/png" sizes="400x400">
	<link rel="manifest" href="./index.json">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
	html, body {
		width: 100vw;
		height: 100vh;
		margin: 0;
	}
	h1 {
		margin-top: 0;
		position: absolute;
		top: 50%;
		-ms-transform: translateY(-50%);
		transform: translateY(-50%);
		width: 100vw;
		display: none;
	}
	:root {
		font-family:  system-ui;
		color: white;
		font-size: 7vw;
		text-align: center;
	}
	</style>
</head>
<body>
	<h1 id='message'> I ‚ù§ U üë∂!!!</h1>
	<audio id="alert" src="index.mp3" type="audio/mpeg"></audio>
	<script>
		timer = 1.5*60*1000
		html = document.getElementsByTagName('BODY')[0];
		beep = document.getElementById('alert');
		message = document.getElementById('message');
		t1 = new Date();
		lastrecord = t1.getTime();
		html.style.backgroundColor = 'red';
		document.addEventListener('keydown', event => {
			t1 = new Date();
			lastrecord = t1.getTime();
			beep.pause();
			if (html.style.backgroundColor !== 'green') {
				html.style.backgroundColor = 'green';
			}
		});
		setInterval(() => {
			t2 = new Date();
			if (t2.getTime() - lastrecord > timer) {
				if (document.hasFocus()) {
					beep.play();
				}
				if (html.style.backgroundColor !== 'red') {
					html.style.backgroundColor = 'red';
					message.style.display = block;
				}
			}
		}, timer)
		navigator.serviceWorker.register('./install.js');
	</script>
</body>
</html>